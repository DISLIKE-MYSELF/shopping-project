


### 数据库表结构设计

#### 1. `users` 表

存储用户的基本信息，包括用户名、密码、邮箱等，同时记录用户的注册时间和最后登录时间。


| 字段名       | 类型           | 描述                           |
| ------------ | -------------- | ------------------------------ |
| `id`         | `INT`          | 用户 ID，主键，自增            |
| `username`   | `VARCHAR(50)`  | 用户名，唯一，非空             |
| `password`   | `VARCHAR(50)`  | 密码，非空                     |
| `email`      | `VARCHAR(50)`  | 邮箱，唯一，非空               |
| `address`    | `VARCHAR(255)` | 地址，用作默认收货地址，可为空 |
| `created_at` | `TIMESTAMP`    | 用户注册时间，默认为当前时间   |
| `last_login` | `TIMESTAMP`    | 用户最后登录时间，可为空       |

#### 2. `products` 表

存储商品的详细信息，包括商品名称、描述、价格、库存等，同时记录商品的创建时间和更新时间。


| 字段名        | 类型             | 描述                         |
| ------------- | ---------------- | ---------------------------- |
| `id`          | `INT`            | 商品 ID，主键，自增          |
| `name`        | `VARCHAR(100)`   | 商品名称，非空               |
| `price`       | `DECIMAL(10, 2)` | 商品价格，非空               |
| `description` | `TEXT`           | 商品描述，可为空             |
| `category`    | `VARCHAR(50)`    | 商品类别，可为空             |
| `stock`       | `INT`            | 商品库存，默认为 0           |
| `image`       | `VARCHAR(50)`    | 商品图片名称，可为空         |
| `rating`      | `DECIMAL(2, 1)`  | 商品评分，默认为 0.0         |
| `created_at`  | `TIMESTAMP`      | 商品创建时间，默认为当前时间 |
| `updated_at`  | `TIMESTAMP`      | 商品更新时间，默认为当前时间 |

#### 3. `carts` 表

存储用户购物车的信息，关联用户 ID，记录最后更新时间。


| 字段名       | 类型        | 描述                           |
| ------------ | ----------- | ------------------------------ |
| `id`         | `INT`       | 购物车 ID，主键，自增          |
| `user_id`    | `INT`       | 用户 ID，外键，关联 `users` 表 |
| `updated_at` | `TIMESTAMP` | 购物车更新时间，默认为当前时间 |

#### 4. `cart_items` 表

存储购物车项的信息，关联购物车 ID 与商品 ID，包括数量、添加时间信息。


| 字段名       | 类型           | 描述                              |
| ------------ | -------------- | --------------------------------- |
| `id`         | `INT`          | 购物车项 ID，主键，自增           |
| `cart_id`    | `INT`          | 购物车 ID，外键，关联 `carts` 表  |
| `product_id` | `INT`          | 商品 ID，外键，关联 `products` 表 |
| `quantity`   | `INT UNSIGNED` | 商品购买数量，非空，默认为 1      |
| `created_at` | `TIMESTAMP`    | 放入购物车时间，默认为当前时间    |

#### 5. `favorites`表

存储用户收藏夹信息，关联用户 ID，记录最后更新时间。


| 字段名       | 类型          | 描述                            |
| ------------ | ------------- | ------------------------------- |
| `id`         | `INT`         | 收藏夹 ID，主键，自增           |
| `user_id`    | `INT`         | 用户 ID，外键，关联 `users` 表  |
| `name`       | `VARCHAR(20)` | 收藏夹名称，默认为“收藏夹” + ID |
| `updated_at` | `TIMESTAMP`   | 收藏夹更新时间，默认为当前时间  |

#### 6. `favorite_items`表

存储收藏夹项的信息，关联收藏夹 ID 与商品 ID，包括添加时间信息。


| 字段名        | 类型        | 描述                                 |
| ------------- | ----------- | ------------------------------------ |
| `id`          | `INT`       | 收藏夹项 ID，主键，自增              |
| `favorite_id` | `INT`       | 收藏夹 ID，外键，关联 `favorites` 表 |
| `product_id`  | `INT`       | 商品 ID，外键，关联 `products` 表    |
| `created_at`  | `TIMESTAMP` | 收藏时间，默认为当前时间             |

#### 7. `orders` 表

存储订单的基本信息，包括用户 ID、订单日期、订单状态等，同时记录订单的创建时间和更新时间。


| 字段名       | 类型           | 描述                                                         |
| ------------ | -------------- | ------------------------------------------------------------ |
| `id`         | `INT`          | 订单 ID，主键，自增                                          |
| `user_id`    | `INT`          | 用户 ID，外键，关联 `users` 表                               |
| `address`    | `VARCHAR(255)` | 收货地址，非空                                               |
| `status`     | `VARCHAR(20)`  | 订单状态，如 `pending`, `paid`, `shipped`, `completed`, `cancelled` 等 |
| `created_at` | `TIMESTAMP`    | 订单创建时间，默认为当前时间                                 |
| `updated_at` | `TIMESTAMP`    | 订单更新时间，默认为当前时间                                 |

#### 8. `order_items` 表

存储订单中的商品信息，记录订单 ID、商品 ID 以及商品数量和单价。


| 字段名       | 类型           | 描述                              |
| ------------ | -------------- | --------------------------------- |
| `id`         | `INT`          | 订单项 ID，主键，自增             |
| `order_id`   | `INT`          | 订单 ID，外键，关联 `orders` 表   |
| `product_id` | `INT`          | 商品 ID，外键，关联 `products` 表 |
| `quantity`   | `INT UNSIGNED` | 商品购买数量，非空                |
| `created_at` | `TIMESTAMP`    | 订单项创建时间，默认当前时间      |

#### 9. `payments` 表

存储支付信息，包括订单 ID、支付金额、支付方式、支付状态等，同时记录支付的创建时间和更新时间。


| 字段名           | 类型             | 描述                                              |
| ---------------- | ---------------- | ------------------------------------------------- |
| `id`             | `INT`            | 支付 ID，主键，自增                               |
| `order_id`       | `INT`            | 订单 ID，外键，关联 `orders` 表                   |
| `amount`         | `DECIMAL(20, 2)` | 支付金额，非空                                    |
| `payment_method` | `VARCHAR(50)`    | 支付方式，如 `credit_card`, `paypal`, `alipay` 等 |
| `status`         | `VARCHAR(20)`    | 支付状态，如 `pending`, `paid`, `failed` 等       |
| `payment_time`   | `TIMESTAMP`      | 支付时间，可为空                                  |
| `created_at`     | `TIMESTAMP`      | 支付创建时间，默认为当前时间                      |
| `updated_at`     | `TIMESTAMP`      | 支付更新时间，默认为当前时间                      |

#### 10. `emails` 表

存储邮件信息，包括用户 ID、邮件主题、邮件内容、发送时间等。


| 字段名    | 类型           | 描述                           |
| --------- | -------------- | ------------------------------ |
| `id`      | `INT`          | 邮件 ID，主键，自增            |
| `user_id` | `INT`          | 用户 ID，外键，关联 `users` 表 |
| `subject` | `VARCHAR(255)` | 邮件主题，非空                 |
| `content` | `TEXT`         | 邮件内容，非空                 |
| `sent_at` | `TIMESTAMP`    | 邮件发送时间，默认为当前时间   |
